<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:pe="http://primefaces.org/ui/extensions">
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta http-equiv="Pragma" content="no-cache"/>
        <meta http-equiv="Cache-Control" content="no-cache"/>
        <meta http-equiv="Expires" content="0"/>
        <title>#{myParam.application_id} #{gXHDO901A.titleInfo.formName}</title>
        <link href="#{request.contextPath}/resources/css/growl.css" rel="stylesheet" type="text/css"/>
        <link href="#{request.contextPath}/resources/css/gxhco901a.css" rel="stylesheet" type="text/css"/>
        <link href="#{request.contextPath}/resources/css/errordialog.css" rel="stylesheet" type="text/css"/>
        <h:outputScript library="primefaces" name="jquery/jquery.js" />
        <script src="#{request.contextPath}/resources/js/locUpload.js"></script>
        <script src="#{request.contextPath}/resources/js/growl.js"></script>
        <script type="text/javascript">
            //<![CDATA[
            function logOut() {
                window.#{adjustModels.external}.logOut();
            }
            $(document).ready(function() {
                //upload to
                g_locationUrl = '#{myParam.locationUrl}';
                //MAC Address
                g_macAddr = '#{sessionInfo.macAddr}';
                //location
                g_location = '#{myMsg.NotAvailable}';
                g_prgname = 'gxhdo901a.xhtml';
                var interval_id = setInterval(getLocation, #{myParam.sendLocInterval});
            });
            function cmdButtonOncomplete(args) {
                if('warning'===args.firstParam){
                    PF('cd').show();
                } else if('auth'===args.firstParam){
                    PF('W_dlg_userAuth').show();
                } else if('gxhdo101c001'===args.firstParam){
                    PF('W_dlg_gxhdo101c001').show();
                } else if('gxhdo101c002'===args.firstParam){
                    PF('W_dlg_gxhdo101c002').show();
                } else if('gxhdo101c003'===args.firstParam){
                    PF('W_dlg_gxhdo101c003').show();
                } else if('gxhdo101c004'===args.firstParam){
                    PF('W_dlg_gxhdo101c004').show();
                } else if('gxhdo101c005'===args.firstParam){
                    PF('W_dlg_gxhdo101c005').show();
                } else if('kikakuError'===args.firstParam){
                    PF('W_dlg_kikakuError').show();
                }
            }
            //]]>
        </script>
        <style>
            .repeated-form .ui-datalist-content.ui-widget-content {
                border: none;
            }
            .ui-inputfield, .ui-widget-content .ui-inputfield {
                background: inherit;
                color: inherit;
            }
            @media(max-width:720px){
                .ui-paginator .ui-paginator-pages{
                    display:inline-block;
                }
            }
        </style>
    </h:head>
    <h:body onload="#{gXHDO901A.onLoadProcess}" >
        <f:metadata>
            <f:viewAction action="#{gXHDO901A.init()}"/>
        </f:metadata>
        
        <div style="margin-left:auto;margin-right:auto;width:#{adjustModels.menuWidth}px;">
        <h:outputText style="background:#{gXHDO901A.titleInfo.bgColor};color: #{gXHDO901A.titleInfo.fontColor}; 
                font-size:#{gXHDO901A.titleInfo.fontSize}px;" value="#{gXHDO901A.titleInfo.formName}"/>
        <div style="text-align:right">
        <h:outputText style="font-size:#{gXHDO901A.titleInfo.fontSize}px;  #{gXHDO901A.styleDisplayNone}" value="#{gXHDO901A.jotaiDisplay}"/>        
        </div>
        <br/>

        <h:form id="form" onkeypress="if (event.keyCode === 13) { return false; }">
            <p:growl id="growlMessage" showDetail="false" sticky="true" />
            <p:confirmDialog id="confDialog" class="ui-confdialog" severity="alert" widgetVar="cd">
                <f:facet name="message">
                    <h:outputText value="#{gXHDO901A.processData.getWarnMessage()}" escape="false"/>
                </f:facet>
                <p:commandButton id="warnOk" value="はい" styleClass="ui-conf-commandbtn-def1"
                                 actionListener="#{gXHDO901A.processWarnOk()}"
                                 process="@form"
                                 update="@form"
                                 oncomplete="if('warning'!=args.firstParam){PF('cd').hide(); cmdButtonOncomplete(args);} else {PF('cd').show();}"/>
                <p:commandButton id="warnCancel" value="いいえ" class="ui-conf-commandbtn-cancel" onclick="PF('cd').hide();" type="button" />
            </p:confirmDialog>
            <p:panel id="headerPanel" style="margin-bottom:4px; #{gXHDO901A.styleDisplayNone}">
                <ui:repeat value="#{gXHDO901A.buttonListTop}" var="item" varStatus="stat">
                    <p:commandButton id="buttonId" value="#{item.buttonName}" rendered="#{item.render}" disabled="#{!item.enabled}"
                                 style="margin-left:4px;margin-bottom:2px;font-size:#{item.fontSize}px;color:#{item.fontColor};background:#{item.backColor};"
                                 actionListener="#{gXHDO901A.btnClick(item.buttonId)}" process="@form" update="@form" async="false"
                                 oncomplete="cmdButtonOncomplete(args);" />                    
                </ui:repeat>
            </p:panel>
            <p:panel id="entryPanel" style="margin-bottom:4px; #{gXHDO901A.styleDisplayNone}">
                <p:dataList id="itemDataList" value="#{gXHDO901A.itemList}" var="item" type="none" itemType="none" paginator="true" rows="#{gXHDO901A.hyojiKensu}" styleClass="repeated-form;ui-paginator">
                    <ui:fragment rendered="#{gXHDO901A.itemRendered}">
                        <p:panel id="itemPanel" style="background:#{item.backColor1};height:48px;">
                            <h:outputText id="label1" rendered="#{item.render1}" value="#{item.label1}"
                                          style="margin-left:8px;font-size:#{item.fontSize1}px;color:#{item.fontColor1};vertical-align: middle;"/>
                            <h:outputText id="kikakuChi" rendered="#{item.render1}" value="#{item.kikakuChi}"
                                          style="margin-left:8px;font-size:#{item.fontSize3}px;color:#{item.fontColor3};vertical-align: middle;"/>

                            <h:outputText id="lblValue" rendered="#{item.renderOutputLabel}" value="#{item.value}"
                                          style="margin-left:8px;font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};background:#{item.backColorInput};vertical-align: middle;"/>

                            <p:inputText id="textValue" rendered="#{(item.renderInputText) and (!item.renderOutputLabel)}" value="#{item.value}" maxlength="#{item.displayMaxLength}"
                                          style="margin-left:8px;width:#{item.displayMaxLength}em;font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};background:#{item.backColorInput};vertical-align: middle;">
								<p:ajax event="blur" process="@this" update="@this" listener="#{item.checkByte()}"  async="false"/>
                            </p:inputText>
                            
                            <p:calendar id="calendarDate" rendered="#{item.renderInputDate}" pattern="yyMMdd" value="#{item.value}" maxlength="#{item.displayMaxLength}" class="calendarDate"
                                        style="margin-left:8px; font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};background:#{item.backColorInput};vertical-align: middle;" />
                            <p:calendar id="calendarTime" rendered="#{item.renderInputTime}" value="#{item.value}" pattern="HHmm" timeOnly="true" class="calendarTime"
                                        style="margin-left:8px; font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};background:#{item.backColorInput};vertical-align: middle;" />
                            
                            
                            
                            <p:inputNumber id="numberValue" rendered="#{item.renderInputNumber}" value="#{item.value}" thousandSeparator="" 
                                           decimalPlaces="#{item.numberDecimalPlaces}" maxValue="#{item.numberMaxValue}" minValue="#{item.numberMinValue}" size="#{item.displayMaxLength}"
                                          style="margin-left:8px;font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};background:#{item.backColorInput};vertical-align: middle;">
								<p:ajax event="blur" process="@this" update="@this" listener="#{item.checkByte()}"  async="false"/>
                            </p:inputNumber>
                            <p:selectOneMenu id="comboBoxValue" rendered="#{item.renderInputSelect}" value="#{item.value}" styleClass="selectMenu"
                                          style="margin-left:8px;width:#{item.inputLength}em;font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};background:#{item.backColorInput};vertical-align: middle;">
                                <f:selectItems value="#{item.selectMenuItem}"/>
                            </p:selectOneMenu>

                            
                            <p:selectOneRadio id="radioValue" rendered="#{item.renderInputRadio}" value="#{item.value}" styleClass="selectRadio"
                                          style="margin-left:8px;font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};vertical-align: middle;">
                                <f:selectItems value="#{item.selectMenuItem}"/>
                            </p:selectOneRadio>
                            
                            <h:outputText id="label2" rendered="#{item.render2}" value="#{item.label2}"
                                          style="margin-left:8px;font-size:#{item.fontSize2}px;color:#{item.fontColor2};background:#{item.backColor2};vertical-align: middle;"/>
                        </p:panel>
                    </ui:fragment>
                </p:dataList>
            </p:panel>
            <p:panel id="footerPanel" style="margin-bottom:4px; #{gXHDO901A.styleDisplayNone}">
                <ui:repeat value="#{gXHDO901A.buttonListBottom}" var="item" varStatus="stat">
                    <p:commandButton id="buttonId" value="#{item.buttonName}" rendered="#{item.render}" disabled="#{!item.enabled}"
                                 style="margin-left:4px;margin-bottom:2px;font-size:#{item.fontSize}px;color:#{item.fontColor};background:#{item.backColor};"
                                 actionListener="#{gXHDO901A.btnClick(item.buttonId)}" process="@form" update="@form" async="false"
                                 oncomplete="cmdButtonOncomplete(args);" />
                </ui:repeat>
            </p:panel>
            
            <p:commandButton id="returnBtn" style="margin-left:26px;font-size:#{item.fontSize}px;color:#{item.fontColor};background:#{item.backColor};"
                 value="#{myMsg.return}" action="/secure/pxhdo101/gxhdo101a.xhtml?faces-redirect=true"
                 process="@this" update="@this"/>
             <div>
                <ui:include src="gxhdo901b.xhtml"/>
                <ui:include src="/secure/pxhdo101/gxhdo101c001.xhtml"/>
                <ui:include src="/secure/pxhdo101/gxhdo101c002.xhtml"/>
                <ui:include src="/secure/pxhdo101/gxhdo101c003.xhtml"/>
                <ui:include src="/secure/pxhdo101/gxhdo101c004.xhtml"/>
                <ui:include src="/secure/pxhdo101/gxhdo101c005.xhtml"/>
                <ui:include src="/secure/common/initMessage.xhtml"/>
                <ui:include src="/secure/common/kikakuError.xhtml"/>
            </div>
        </h:form>
        </div>
        
    </h:body>
</html>