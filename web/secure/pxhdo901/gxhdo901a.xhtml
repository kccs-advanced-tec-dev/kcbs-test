<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:pe="http://primefaces.org/ui/extensions">
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta http-equiv="Pragma" content="no-cache"/>
        <meta http-equiv="Cache-Control" content="no-cache"/>
        <meta http-equiv="Expires" content="0"/>
        <title>#{myParam.application_id} #{gXHCO901A.titleInfo.formName}</title>
        <link href="#{request.contextPath}/resources/css/growl.css" rel="stylesheet" type="text/css"/>
        <link href="#{request.contextPath}/resources/css/gxhco901a.css" rel="stylesheet" type="text/css"/>
        <h:outputScript library="primefaces" name="jquery/jquery.js" />
        <script src="#{request.contextPath}/resources/js/locUpload.js"></script>
        <script src="#{request.contextPath}/resources/js/growl.js"></script>
        <script type="text/javascript">
            //<![CDATA[
            function logOut() {
                window.#{adjustModels.external}.logOut();
            }
            $(document).ready(function() {
                //upload to
                g_locationUrl = '#{myParam.locationUrl}';
                //MAC Address
                g_macAddr = '#{sessionInfo.macAddr}';
                //location
                g_location = '#{myMsg.NotAvailable}';
                g_prgname = 'gxhco901a.xhtml';
                var interval_id = setInterval(getLocation, #{myParam.sendLocInterval});
            });
            //]]>
        </script>
        <style>
            .repeated-form .ui-datalist-content.ui-widget-content {
                border: none;
            }
            .ui-inputfield, .ui-widget-content .ui-inputfield {
                background: inherit;
                color: inherit;
            }
        </style>
    </h:head>
    <h:body onload="#{gXHCO901A.onLoadProcess}">
        <f:metadata>
            <f:viewAction action="#{gXHCO901A.init()}"/>
        </f:metadata>
        <h:outputText style="background:#{gXHCO901A.titleInfo.bgColor};color: #{gXHCO901A.titleInfo.fontColor}; 
					  font-size:#{gXHCO901A.titleInfo.fontSize}px;" value="#{gXHCO901A.titleInfo.formName}"/>
        <div style="margin-left:auto;margin-right:auto;width:#{adjustModels.menuWidth}px;">
        <br/>
        <h:form id="form" onkeypress="if (event.keyCode === 13) { return false; }">
            <p:growl id="growlMessage" showDetail="false" sticky="true"/>
            <p:confirmDialog id="confDialog" class="ui-confdialog" severity="alert" widgetVar="cd">
                <f:facet name="message">
                    <h:outputText value="#{gXHCO901A.processData.getWarnMessage()}" escape="false"/>
                </f:facet>
                <p:commandButton id="warnOk" value="はい" styleClass="ui-conf-commandbtn-def1"
                                 actionListener="#{gXHCO901A.processWarnOk()}"
                                 process="@form"
                                 update="@form"
                                 oncomplete="if('warning'!=args.firstParam){PF('cd').hide();} else {PF('cd').show();}"/>
                <p:commandButton id="warnCancel" value="いいえ" class="ui-conf-commandbtn-cancel" onclick="PF('cd').hide();" type="button" />
            </p:confirmDialog>
            <p:panel id="headerPanel" style="margin-bottom:4px;">
                <ui:repeat value="#{gXHCO901A.buttonListTop}" var="item" varStatus="stat">
                    <p:commandButton id="buttonId" value="#{item.buttonName}" rendered="#{item.render}" disabled="#{!item.enabled}"
                                 style="margin-left:4px;font-size:#{item.fontSize}px;color:#{item.fontColor};background:#{item.backColor};"
                                 actionListener="#{gXHCO901A.btnClick(item.buttonId)}" process="@form" update="@form" async="false"
                                 oncomplete="if('warning'==args.firstParam){PF('cd').show();} else if('auth'==args.firstParam){PF('W_dlg_userAuth').show();}" />                    
                </ui:repeat>
            </p:panel>
            <p:panel id="entryPanel" style="margin-bottom:4px;">
                <p:dataList id="itemDataList" value="#{gXHCO901A.itemList}"
                            var="item" type="none" styleClass="repeated-form">
                    <ui:fragment rendered="#{gXHCO901A.itemRendered}">
                        <p:panel id="itemPanel" style="background:#{item.backColor1};">
                            <h:outputText id="label1" rendered="#{item.render1}" value="#{item.label1}"
                                          style="margin-left:8px;font-size:#{item.fontSize1}px;color:#{item.fontColor1};"/>
                            
                            <p:inputText id="textValue" rendered="#{item.renderInputText or item.renderInputDate}" value="#{item.value}" maxlength="#{item.displayMaxLength}"
                                          style="margin-left:8px;width:#{item.displayMaxLength}em;font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};background:#{item.backColorInput};">
								<p:ajax event="blur" process="@this" update="@this" listener="#{item.checkByte()}"  async="false"/>
                            </p:inputText>
                            <p:inputNumber id="numberValue" rendered="#{item.renderInputNumber}" value="#{item.value}" thousandSeparator="" 
                                           decimalPlaces="#{item.numberDecimalPlaces}" maxValue="#{item.numberMaxValue}" minValue="#{item.numberMinValue}" size="#{item.displayMaxLength}"
                                          style="margin-left:8px;font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};background:#{item.backColorInput};">
								<p:ajax event="blur" process="@this" update="@this" listener="#{item.checkByte()}"  async="false"/>
                            </p:inputNumber>
                            <p:selectOneMenu id="comboBoxValue" rendered="#{item.renderInputSelect}" value="#{item.value}" styleClass="selectMenu"
                                          style="margin-left:8px;width:#{item.inputLength}em;font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};background:#{item.backColorInput};">
                                <f:selectItems value="#{item.selectMenuItem}"/>
                            </p:selectOneMenu>
                            
                            <p:selectOneRadio id="radioValue" rendered="#{item.renderInputRadio}" value="#{item.value}" styleClass="selectRadio"
                                          style="margin-left:8px;font-size:#{item.fontSizeInput}px;color:#{item.fontColorInput};">
                                <f:selectItems value="#{item.selectMenuItem}"/>
                            </p:selectOneRadio>
                            
                            <h:outputText id="label2" rendered="#{item.render2}" value="#{item.label2}"
                                          style="margin-left:8px;font-size:#{item.fontSize2}px;color:#{item.fontColor2};background:#{item.backColor2};"/>
                        </p:panel>
                    </ui:fragment>
                </p:dataList>
            </p:panel>
            <p:panel id="footerPanel" style="margin-bottom:4px;">
                <ui:repeat value="#{gXHCO901A.buttonListBottom}" var="item" varStatus="stat">
                    <p:commandButton id="buttonId" value="#{item.buttonName}" rendered="#{item.render}" disabled="#{!item.enabled}"
                                 style="margin-left:4px;font-size:#{item.fontSize}px;color:#{item.fontColor};background:#{item.backColor};"
                                 actionListener="#{gXHCO901A.btnClick(item.buttonId)}" process="@form" update="@form" async="false"
                                 oncomplete="if('warning'==args.firstParam){PF('cd').show();} else if('auth'==args.firstParam){PF('W_dlg_userAuth').show();}" />
                </ui:repeat>
            </p:panel>
            <div style="margin-top: 15px;">
                <h:link outcome="/pxhco012/gxhco012a.xhtml?faces-redirect=true" value="戻る"/>
            </div>
            <ui:include src="gxhco901b.xhtml"/>
        </h:form>
        </div>
        
    </h:body>
</html>